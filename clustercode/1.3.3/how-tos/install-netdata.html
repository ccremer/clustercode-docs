<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install Netdata :: Clustercode Docs</title>
    <link rel="canonical" href="https://ccremer.github.io/clustercode-docs/clustercode/1.3.3/how-tos/install-netdata.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://ccremer.github.io/clustercode-docs">Clustercode Docs</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="clustercode" data-version="1.3.3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Clustercode</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">How To</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="install-docker.html">Install On Docker</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="install-windows.html">Install On Windows</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="install-netdata.html">Install Netdata</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="upgrade.html">Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Technical reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/storage.html">Storage Settings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/scan.html">Scan Settings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/encoder.html">Encoder Settings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/cluster.html">Cluster Settings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/cleanup.html">Cleanup Settings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/constraints.html">Constraints</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../references/api.html">API Settings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Explanation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/storage.html">Storage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/scan.html">Scan</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/encoder.html">Encoder</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/cluster.html">Cluster</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/cleanup.html">Cleanup</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/constraints.html">Constraints</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explanations/api.html">API</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Clustercode</span>
    <span class="version">1.3.3</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">Clustercode</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">master</a>
        </li>
        <li class="version">
          <a href="../../v2.0.0-rc3/index.html">v2.0.0-rc3</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">1.3.3</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Clustercode</a></li>
    <li>How To</li>
    <li><a href="install-netdata.html">Install Netdata</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.3.3</button>
  <div class="version-menu">
    <a class="version is-missing" href="../../index.html">master</a>
    <a class="version is-missing" href="../../v2.0.0-rc3/index.html">v2.0.0-rc3</a>
    <a class="version is-current" href="install-netdata.html">1.3.3</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/ccremer/clustercode/blob/1.3.3/docs/modules/ROOT/pages/how-tos/install-netdata.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install Netdata</h1>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clustercode 1.1 has a netdata plugin which gets the percentage, fps and
bitrate of the current conversion progress. <strong>This plugin works only with
ffmpeg-based nodes!</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/netdata.png" alt="netdata">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install netdata according to their instructions.</p>
</li>
<li>
<p>Install nodejs. If you package manager complains about legacy <code>node</code>, try installing <code>nodejs</code>.</p>
</li>
<li>
<p>On your netdata server, execute:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">wget https://github.com/ccremer/netdata/raw/clustercode/node.d/clustercode.node.js -O /usr/libexec/netdata/node.d/clustercode.node.js</code></pre>
</div>
</div>
</li>
<li>
<p>Open your editor (nano, vim, gedit, etc) and create
<code>/etc/netdata/node.d/clustercode.conf</code>. In your Distro it might not be
<code>/etc/netdata+</code>, but search for <code>node.d</code> in netdataâ€™s config</p>
</li>
<li>
<p>Paste and modify hostname and job name. Make sure the API is reachable
on the configured port.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "enable_autodetect": false,
    "update_every": 2,
    "nodes": [
        {
            "name": "node-1",
            "hostname": "node-1.ip.or.dns:8080",
            "update_every": 2,
            "progress_api": "/api/v1/progress/ffmpeg"
        }
    ]
}</code></pre>
</div>
</div>
</li>
<li>
<p>[Optional] Modify <code>/usr/share/netdata/web/dashboard_info.js</code> with
your editor and append the following section <strong>before</strong> the last closing
tag <code>};</code> at the end of the file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">    ,
    'clustercode.progress.percentage': {
        valueRange: "[0, 100]"
    }</code></pre>
</div>
</div>
</li>
<li>
<p>Restart netdata service with <code>service netdata restart</code></p>
</li>
</ol>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<!--
This page was built using the Antora default UI.
The source code for this UI is licensed under the terms of the MPL-2.0 license.
->
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
